<div class="course-detail-container">
  <div class="course-detail-content">
    <div class="course-aside">
      <div class="course-title">
        <span class="course-name">{{ course.title }}:</span>
        <span class="course-words"
          >Innovación, Digitalización y Automatización</span
        >
      </div>

      @if (isUserLogged) {
      <app-button class="button-start-here"> ¡COMIENZA AQUÍ! </app-button>
      }

      <aside class="course-details-aside">
        @for (module of course.modules; track module.moduleId) {
        <app-course-module [module]="module" />
        }
      </aside>
    </div>

    <main class="course-content">
      <div class="course-header" *ngIf="isUserLogged">
        <div class="first-header-group">
          <app-house-icon class="home-icon" />
          <app-caret-right-icon class="caret-r-icon" />
          <span>MODULO {{ module_id }}</span>
          <app-caret-right-icon class="caret-r-icon" />
          <span>{{ courseSessionSubject.title }}</span>
        </div>

        <div class="second-header-group">
          <div class="second-header-button">
            <app-prev-icon class="second-header-icon" />
            <span>Anterior</span>
          </div>

          <div class="second-header-button">
            <span>Siguiente</span>
            <app-next-icon class="second-header-icon" />
          </div>
        </div>
      </div>

      <div class="course-options" *ngIf="!isUserLogged">
        <app-button>
          <a href="https://aecodemap.my.canva.site/" target="_blank"
            >BROCHURE</a
          >
        </app-button>
        <app-button>
          <a href="https://aecodemap.my.canva.site/" target="_blank">ROADMAP</a>
        </app-button>
        <app-button> DESBLOQUEAR </app-button>
      </div>

      <app-youtube-player
        [unit_url_video]="courseSessionSubject.videoUrl"
        [session_id]="courseSessionSubject.sessionId"
      />

      <div class="buttons-container" *ngIf="!isUserLogged">
        <app-button> ¿Qué aprenderemos hoy? </app-button>

        <app-button> Acceso al material de clase </app-button>
      </div>

      <div class="course-class-details" *ngIf="isUserLogged">
        <div class="header">
          <div class="header-items">
            <span
              (click)="isDescription = true"
              [ngClass]="isDescription ? 'selected' : ''"
              >Descripción</span
            >
            <span
              (click)="isDescription = false"
              [ngClass]="!isDescription ? 'selected' : ''"
              >Recursos</span
            >
          </div>

          <div class="translate">
            <span>Traducir texto: Inglés</span>
            <app-caret-down-icon class="caret-icon" />
          </div>
        </div>
        <div class="separator"></div>
        <div class="detail-text">
          @if(isDescription) {
          {{ courseSessionSubject.description }}

          } @else { Recurso descargable aun no disponible! }
        </div>
      </div>
    </main>
  </div>
</div>

<app-modal (isClosed)="showBlockedModal = $event" [isOpen]="showBlockedModal">
  <app-content-blocked (isClosed)="showBlockedModal = $event" />
</app-modal>
