<div
  class="course-item-container"
  [class.platform-course-item-container]="isMasiveCourse"
>
  <div
    class="course-item-mode"
    [class.async-course-button]="course.mode == 'ASINCRONO'"
    [class.coming-soon-course-button]="course.mode == 'SINCRONO'"
  >
    @switch (course.mode) { @case ('SINCRONO') {
    <app-coming-soon-course-icon class="icon" />
    PRÓXIMOS } @case ('EN_VIVO') {
    <app-sync-course-icon class="icon" />
    EN VIVO } @case ('ASINCRONO') {
    <app-async-course-icon class="icon" />
    ASINCRÓNICOS } }
  </div>

  @if (course.isOnSale) {
  <div class="course-off-mode">
    <app-offerbg-icon class="icon" />
    <span>{{ course.discountPercentage }}% OFF</span>
  </div>
  }

  <div class="course-presentation-container">
    <img class="course-img" src="{{ secondaryCourseMainImgUrl }}" alt="" />

    <div class="course-tags">
      <div
        class="course-tags-cointainer course-tags-date"
        [class.static-course-icons]="!isMasiveCourse"
      >
        <app-watch-icon class="icon" />
        INICIO: {{ course.startDate }}
      </div>

      <div
        class="course-tags-cointainer"
        [class.static-course-icons]="!isMasiveCourse"
      >
        <app-course-session-icon class="icon" />
        {{ course.certificateDate }}
      </div>
    </div>
  </div>

  @if(isMasiveCourse) {
  <div class="platform-course-details">
    <h2 class="course-title">{{ course.title }}</h2>
    <button
      class="course-item-button course-item-button-small"
      (click)="showMasiveCourseDetails(course.courseId)"
    >
      Ver más
    </button>
  </div>

  } @else {
  <div class="course-details">
    <h2 class="course-title">{{ course.title }}</h2>

    <p class="course-description">
      {{ course.description }}
    </p>

    <div class="course-footer">
      <div class="course-footer-details">
        <div class="course-level">
          <app-course-session-icon class="icon" />

          <span>{{ course.mode }}</span>
        </div>

        @if (course.isOnSale) {
        <span class="course-old-price"
          >Normal <span class="price">${{ course.priceRegular }}</span></span
        >
        }
      </div>

      <div class="buttons-container">
        <button
          class="course-item-button"
          [class.async-course-button]="course.mode == 'ASINCRONO'"
          [class.coming-soon-course-button]="course.mode == 'SINCRONO'"
          (click)="showCourseDetails(course.seccourseId)"
        >
          <app-access-to-course-icon class="shop-cart-icon" />

          Acceder al curso
        </button>

        <button
          class="course-item-button"
          [class.async-course-button]="course.mode == 'ASINCRONO'"
          [class.coming-soon-course-button]="course.mode == 'SINCRONO'"
          (click)="
            goToPay(
              (course.priceRegular * (100 - course.discountPercentage)) / 100
            )
          "
        >
          <app-shopping-cart-icon class="shop-cart-icon" /> Añadir
          <span>
            ${{
              (course.priceRegular * (100 - course.discountPercentage)) / 100
                | number : "1.0-0"
            }}
          </span>
        </button>
      </div>
    </div>
  </div>

  }
</div>
